// Custom.scss
@import "theme";

:root {
  --bs-tooltip-opacity: 0.95;
}

// Bootstrap Table styles
.table-cursor-pointer tbody tr {
  cursor: pointer;
}

.bootstrap-table {
  // Prevent any animations/transitions
  * {
    transition: none !important;
  }

  // Set background colors for all table elements
  .fixed-table-container,
  .fixed-table-body,
  .table {
    background-color: var(--bs-body-bg) !important;
  }

  // Style loading state
  .fixed-table-loading {
    background: var(--bs-body-bg) !important;
    color: var(--bs-body-color) !important;
  }
}

// Dark theme specific styles
[data-bs-theme="dark"] {
  .bootstrap-table .table {
    color: var(--bs-body-color);
  }
}

.page-item.active .page-link{
  background-color: map-get($theme-colors, "primary");
  color: map-get($theme-colors, "light");
  border-color: #7b7b7b;
}

.page-item.active .page-link:hover{
  background-color: map-get($theme-colors, "primary");
  color: map-get($theme-colors, "light");
  border-color: #7b7b7b;
}

.page-item .page-link{
  background-color: #ffffff;
  color: #000000;

}

.page-item .page-link:hover{
  background-color: #ffffff;
  color: map-get($theme-colors, "primary");
  border-color: #7b7b7b;
}

.modal-header{
  background-color: map-get($theme-colors, "secondary");
  color: map-get($theme-colors, "light");
}

.btn.btn-custom {
  padding: 0;
}

.clickable {
  cursor: pointer;
}

input.no-arrows::-webkit-inner-spin-button,
input.no-arrows::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input.no-arrows {
  -moz-appearance: textfield;
  appearance: textfield;
}

.grecaptcha-badge { visibility: hidden; }

$dropdown-link-active-bg: map-get($theme-colors, "primary");
$modal-header-border-color: map-get($theme-colors, "primary");
$modal-header-border-width: 2px;

$font-family-sans-serif: 'Helvetica', sans-serif;
$font-size-base: .9rem;

.btn.btn-primary:focus,
.btn.btn-primary:active,
.btn.btn-primary:hover {
  background-color: rgba(map-get($theme-colors, "primary"), .95);
  border-color: #b3b3b3;
}

.page-list .btn {
  background-color: map-get($theme-colors, "light");
}

.info-icon {
  font-size: 0.8em;
  vertical-align: super;
  cursor: help;
}

.info-icon i {
  opacity: 0.6;
}

.info-icon:hover i {
  opacity: 1;
}
//
$form-file-button-color:         #000000;
$form-file-button-bg:            map-get($theme-colors, "tertiary");
//$form-file-button-hover-bg:       #fdce60;
#map { height: 200px; }



@import "scss/bootstrap";

$custom-colors-dark: (
  "primary": darken(map-get($theme-colors, "primary"), 10%),
  "secondary": darken(map-get($theme-colors, "secondary"), 60%),
  "tertiary": darken(map-get($theme-colors, "tertiary"), 10%),
  "success": darken(map-get($theme-colors, "success"), 10%),
  "danger": darken(map-get($theme-colors, "danger"), 10%),
  "warning": darken(map-get($theme-colors, "warning"), 10%),
  "info": darken(map-get($theme-colors, "info"), 10%),
  "light": darken(map-get($theme-colors, "light"), 75%),
  "dark": darken(map-get($theme-colors, "dark"), 5%),
  "accent1": darken(map-get($theme-colors, "accent1"), 35%),
  "accent1-subtle": darken(map-get($theme-colors, "accent1-subtle"), 15%),
  "accent2": darken(map-get($theme-colors, "accent2"), 0%),
  "accent3": darken(map-get($theme-colors, "accent3"), 55%),
);

// Define dark theme colors
$theme-colors-dark: map-merge($theme-colors, $custom-colors-dark);


[data-bs-theme="dark"] {
  --bs-primary: #{shade-color($primary, 80%)};
  --bs-bg-primary-dark: #{map-get($theme-colors-dark, "primary")};
  --bs-primary-bg-subtle-dark: #{map-get($theme-colors, "primary")};
  --bs-bg-light-dark: #{map-get($theme-colors-dark, "light")};
  --bs-bg-accent1-dark: #{map-get($theme-colors-dark, "accent1")};
  --bs-bg-secondary-dark: #{map-get($theme-colors-dark, "secondary")};
  --bs-bg-tertiary-dark: #{map-get($theme-colors-dark, "tertiary")};
  --bs-border-secondary-dark: #{map-get($theme-colors-dark, "secondary")};
  --bs-border-accent1-dark: #{map-get($theme-colors-dark, "dark")};
  --bs-bg-accent3-dark: #{map-get($theme-colors-dark, "accent3")};
  --bs-bg-accent2-dark: #{map-get($theme-colors-dark, "accent2")};
  --bs-bg-modal-header-dark: #{map-get($theme-colors-dark, "accent3")};
  --bs-border-modal-header-dark: #{map-get($theme-colors-dark, "primary")};
  --bs-bg-dark-dark: #{map-get($theme-colors-dark, "dark")};
  --bs-link-dark-color: #{map-get($theme-colors, "accent3")};
  --bs-bg-accent1-subtle-dark: #{map-get($theme-colors-dark, "accent1-subtle")};
  --bs-bg-alert-primary-dark: #{lighten(map-get($theme-colors-dark, "primary"), 2%)};
  --bs-primary-text-dark: #{map-get($theme-colors-dark, "primary")};
  --bs-tooltip-bg: var(--bs-dark);
  --bs-tooltip-color: var(--bs-white);

  // Chart colors for constellation badges - constellation_config.js dark theme
  --bs-chart-primary: #4a9eff;      // Starlink
  --bs-chart-accent1: #e18605;      // Kuiper
  --bs-chart-secondary: #8ba3c4;    // Other
  --bs-chart-accent2: #9b59b6;      // Qianfan
  --bs-chart-accent3: #22d3ee;      // SpaceMobile
  --bs-chart-danger: #ec7063;       // OneWeb
  --bs-chart-success: #a3e635;      // Planet Labs


  .bg-light {
    background-color: var(--bs-bg-light-dark) !important;
  }
  .bg-dark {
    background-color: var(--bs-bg-dark-dark) !important;
  }
  .bg-primary {
    background-color: var(--bs-bg-primary-dark) !important;
  }
  .bg-accent1 {
    background-color: var(--bs-bg-accent1-dark) !important;
  }
  .bg-secondary {
    background-color: var(--bs-bg-secondary-dark) !important;
  }
  .bg-tertiary {
    background-color: var(--bs-bg-tertiary-dark) !important;
  }
  .bg-accent3 {
    background-color: var(--bs-bg-accent3-dark) !important;
  }
  .border-secondary {
    border-color: var(--bs-border-secondary-dark) !important;
  }
  .border-accent1 {
    border-color: var(--bs-border-accent1-dark) !important;
  }
  .modal-header {
    background-color: var(--bs-bg-modal-header-dark) !important;
    border-color: var(--bs-border-modal-header-dark) !important;
  }
  .btn-primary {
    --bs-btn-bg: #{map-get($theme-colors-dark, "primary")};
  }
  .link-dark {
    color: var(--bs-link-dark-color) !important;
    text-decoration: underline;
  }
  .bg-accent1-subtle {
    background-color: var(--bs-bg-accent1-subtle-dark) !important;
  }
  .alert-primary {
    background-color: var(--bs-bg-alert-primary-dark) !important;
  }
  .form-control-output {
    background-color: var(--bs-bg-light-dark) !important;
    color: var(--bs-link-dark-color) !important;
  }
  .bg-png{
    background-color: var(--bs-bg-tertiary-dark) !important;
  }
  .text-primary {
    color: var(--bs-bg-primary-text-dark) !important;
  }

  .alert-link {
    color: var(--bs-link-dark-color) !important;
    text-decoration: underline;
  }

  .tooltip {
    --#{$prefix}tooltip-color: var(--bs-tooltip-color);
    --#{$prefix}tooltip-bg: var(--bs-tooltip-bg);
    --#{$prefix}tooltip-opacity: var(--bs-tooltip-opacity);
  }

  // Satellite Selector Dark Theme Overrides
  .satellite-selector {
    .group-items {
      background-color: var(--bs-bg-light-dark) !important;
    }

    .satellite-item:hover {
      background-color: var(--bs-bg-dark-dark) !important;
    }

    .satellite-name {
      color: var(--bs-link-dark-color) !important;
    }

    .mode-tab {
      color: var(--bs-link-dark-color) !important;

      &:hover:not(.active) {
        color: var(--bs-bg-light-dark) !important;
      }
    }

    .search-box i {
      color: var(--bs-link-dark-color) !important;
    }

    // Custom badge colors for dark theme use the global chart CSS variables
    .badge.bg-primary {
      background-color: var(--bs-chart-primary) !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-secondary {
      background-color: var(--bs-chart-secondary) !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-accent1 {
      background-color: var(--bs-chart-accent1) !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-accent2 {
      background-color: var(--bs-chart-accent2) !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-accent3 {
      background-color: var(--bs-chart-accent3) !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-success {
      background-color: var(--bs-chart-success) !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-danger {
      background-color: #ec7063 !important;
      color: var(--bs-dark) !important;
    }

    .badge.bg-tertiary {
      background-color: var(--bs-bg-tertiary-dark) !important;
      color: var(--bs-dark) !important;
    }
  }
}

// Satellite Selector Styles
.satellite-selector {
  max-width: 100%;

  // Common hover and transition patterns
  %hover-bg-light {
    transition: background-color 0.2s;
    &:hover {
      background-color: var(--bs-bg-light);
    }
  }

  // Reuse existing clickable class and add hover effects
  .constellation-item,
  .group-header {
    @extend %hover-bg-light;
  }

  .constellation-item {
    @extend .clickable;
  }

  .constellation-badge {
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.35rem 0.6rem;
  }

  .custom-mode-list {
    border: 1px solid var(--bs-border-color);
    border-radius: 0.375rem;
    max-height: 24rem;
    overflow-y: auto;
  }

  .constellation-group {
    border-bottom: 1px solid var(--bs-border-color);

    &:last-child {
      border-bottom: none;
    }
  }

  .group-header {
    background-color: transparent;
    border: none;
    width: 100%;
    text-align: left;
    padding: 0.75rem 1rem;
    font-weight: 500;
    color: var(--bs-body-color);

    .chevron {
      transition: transform 0.2s;
      display: inline-block;
      margin-right: 0.5rem;
    }

    &.collapsed .chevron {
      transform: rotate(-90deg);
    }
  }

  .group-items {
    background-color: var(--bs-bg-light);
    padding: 0.5rem 1rem;
  }

  .satellite-item {
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    transition: background-color 0.2s;

    &:hover {
      background-color: var(--bs-body-bg);
    }

    label {
      margin: 0;
      @extend .clickable;
    }

    input[type="checkbox"] {
      cursor: pointer;
    }
  }

  .satellite-name {
    font-family: monospace;
    font-size: 0.875rem;
    color: var(--bs-secondary-color);
  }

  .mode-tabs {
    display: flex;
    gap: 0;
    position: relative;
    width: fit-content; // Only as wide as the tabs

  }

  .mode-tab {
    padding: 0.75rem 1rem;
    background: none;
    border: none;
    font-weight: 500;
    color: var(--bs-secondary-color);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
    transition: all 0.2s;

    &.active {
      color: var(--bs-primary);
      border-bottom-color: var(--bs-primary);
    }

    &:hover:not(.active) {
      color: var(--bs-body-color);
    }
  }

  .load-more-btn {
    width: 100%;
    padding: 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--bs-primary);
    background: none;
    border: none;
    cursor: pointer;
    transition: color 0.2s;

    &:hover {
      color: var(--bs-primary-text-emphasis);
    }
  }

  .search-box {
    position: relative;

    i {
      position: absolute;
      left: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--bs-secondary-color);
      pointer-events: none;
    }

    input {
      padding-left: 2rem;
    }
  }

  .space-y-2 > * + * {
    margin-top: 0.5rem;
  }

  // Light theme badge colors - constellation_config.js light theme
  .badge.bg-primary {
    background-color: #142943 !important;  // Starlink
    color: var(--bs-white);
  }

  .badge.bg-accent1 {
    background-color: #fbb552 !important;  // Kuiper
    color: var(--bs-dark);
  }

  .badge.bg-accent2 {
    background-color: #8e44ad !important;  // Qianfan
    color: var(--bs-white);
  }

  .badge.bg-accent3 {
    background-color: #0891b2 !important;  // SpaceMobile
    color: var(--bs-white);
  }

  .badge.bg-danger {
    background-color: #c0392b !important;  // OneWeb
    color: var(--bs-white);
  }

  .badge.bg-success {
    background-color: #65a30d !important;  // Planet Labs
    color: var(--bs-white);
  }

  .badge.bg-secondary {
    background-color: #5c7da7 !important;  // Other
    color: var(--bs-white);
  }

  .badge.bg-tertiary {
    background-color: map-get($theme-colors, "tertiary") !important;
    color: var(--bs-dark);
  }
}

// Satellite Names List Styles
.satellite-names {
  .satellite-list {
    max-height: 500px;
    overflow-y: auto;
    font-family: monospace;
    font-size: 0.875rem;
    line-height: 1.4;
  }
}

// Data Visualization Landing Page Styles
.simple-stat-box {
  background: var(--bs-body-bg);
  border: 1px solid var(--bs-border-color);
  border-radius: 0.375rem;
  padding: 0.75rem 1rem;
  transition: box-shadow 0.2s;
  min-height: 72px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

.stat-header {
  font-weight: 600;
  font-size: 0.9rem;
  margin-bottom: 0.25rem;
}

.stat-details {
  font-size: 0.8rem;
  color: var(--bs-secondary-color);
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
}

.stat-item strong {
  color: var(--bs-body-color);
}

.stat-divider {
  opacity: 0.5;
}
